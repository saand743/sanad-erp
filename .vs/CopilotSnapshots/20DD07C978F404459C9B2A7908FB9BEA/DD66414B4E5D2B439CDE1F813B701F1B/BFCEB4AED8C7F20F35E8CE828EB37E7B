# 🎯 نظام سند لإدارة الموارد (Sanad ERP System) - الإصدار 2.1

مرحباً بك في ملف التوثيق الرسمي لنظام سند لإدارة الموارد. هذا الملف هو مرجعك الأساسي لفهم المشروع، إعداده، وتشغيله.

---

## 📜 عن المشروع

نظام سند هو نظام تخطيط موارد مؤسسات (ERP) متكامل مبني باستخدام أحدث التقنيات (Next.js & PostgreSQL)، مصمم ليكون سريعاً، آمناً، وسهل الاستخدام. يهدف النظام إلى مساعدة الشركات الصغيرة والمتوسطة على إدارة عملياتها اليومية بكفاءة عالية.

---

## 📊 حالة المشروع الحالية

| الوحدة/النظام                | نسبة الإنجاز | ملاحظات                                                                 |
|------------------------------|--------------|------------------------------------------------------------------------|
| الواجهة الخلفية (Backend)    | 95%          | جميع وحدات الـ API متصلة فعليًا بقاعدة البيانات، مع دعم كامل للصلاحيات |
| الواجهة الأمامية (Frontend)  | 40%          | بعض الصفحات تعتمد على بيانات وهمية وتحتاج ربط كامل مع الـ API           |
| إدارة الموارد البشرية (HR)    | 100%         | مكتملة                                                                 |
| إدارة المبيعات (Sales)        | 75%          | الواجهة البرمجية مكتملة، تحتاج واجهة مستخدم                             |
| إدارة المخزون (Inventory)     | 60%          | تم بناء الأساس، تحتاج واجهات وتفاصيل إضافية                            |
| إدارة العملاء والموردين (CRM) | 80%          | الواجهات البرمجية مكتملة، تحتاج واجهات مستخدم                           |
| نظام الدعم الفني (Support)    | 100%         | نظام تذاكر دعم متكامل                                                  |
| التقارير والتحليلات (Reporting)| 85%         | أداة بناء التقارير مكتملة، تحتاج واجهات عرض                             |
| النظام المالي (Financials)    | 10%          | تم بناء الأساس (التكاليف)، تحتاج شجرة حسابات وقيود                     |

---

## ✨ الوحدات والميزات الأساسية

النظام يحتوي على مجموعة متكاملة من الوحدات التي تعمل معاً بسلاسة:

- **🔐 إدارة المستخدمين والصلاحيات:** نظام تسجيل دخول آمن، إدارة كاملة للمستخدمين والأدوار والصلاحيات، مع دعم الربط الديناميكي مع قاعدة البيانات.
- **📊 لوحة التحكم:** إحصائيات ورسوم بيانية فورية عن أداء العمل.
- **📦 إدارة المخزون:** تتبع المنتجات والكميات، تنبيهات عند انخفاض المخزون، دعم الجرد والتسويات.
- **💰 المبيعات والمشتريات:** إنشاء وإدارة الفواتير، تحديث تلقائي للمخزون، دعم معاملات قاعدة البيانات (Transactions).
- **👥 إدارة العملاء والموردين:** قاعدة بيانات مركزية للعملاء والموردين، دعم عمليات البحث والتعديل والحذف.
- **💵 الخزنة والمصروفات:** تتبع جميع الحركات المالية من مقبوضات ومدفوعات ومصروفات.
- **🖨️ طباعة الباركود:** أداة مدمجة لتصميم وطباعة بطاقات الباركود للمنتجات.
- **📝 التقارير والتحليلات:** أداة متقدمة لبناء التقارير المخصصة وتحليل البيانات (قيد التطوير).
- **🛡️ النسخ الاحتياطي والاستعادة:** دعم النسخ الاحتياطي التلقائي واليدوي للبيانات.
- **🎫 نظام الدعم الفني:** نظام تذاكر دعم متكامل (مكتمل).

---

## 6. التوصيات والتطويرات المقترحة

### أ. الواجهة الأمامية:
- الربط الكامل مع الـ API: ينبغي إلغاء البيانات الوهمية وربط جميع الصفحات الفعّالة مع الـ API لضمان عرض بيانات حقيقية.

### ب. النظام المالي:
- يجب العمل على تطوير شجرة الحسابات والقيود بما يتماشى مع المعايير المحاسبية المطلوبة، مثل توفير التقارير المالية والتحليلات المتعلقة بالربح والخسارة.

### ج. التقارير المتقدمة:
- عليك بتطوير واجهات عرض تقارير تتيح تحليل البيانات بشكل مفصل، مع تقديم تقارير مخصصة بناءً على احتياجات المستخدم.

### د. سجل التدقيق:
- ضرورة ربط سجل التدقيق بقاعدة البيانات بشكل مباشر، لضمان متابعة أي تغييرات في النظام.

### هـ. تعدد الفروع:
- يجب تطوير دعم الفروع بالكامل في الواجهة الأمامية، بحيث يمكن للمستخدمين إدارة بيانات كل فرع بشكل منفصل.

---

## 7. الخطوات التالية

- إتمام الربط بين الواجهة الأمامية والـ API.
- تطوير وحدة النظام المالي.
- تطوير تقارير التحليل المتقدمة وواجهات العرض الخاصة بها.
- إتمام دعم تعدد الفروع في الواجهة الأمامية.
- إتمام ربط سجل التدقيق مع قاعدة البيانات.

---

## 🛠️ التقنيات المستخدمة

- **إطار العمل (Framework):** Next.js 14 (React)
- **لغة البرمجة:** JavaScript
- **قاعدة البيانات:** PostgreSQL
- **التصميم:** Tailwind CSS
- **المصادقة:** JWT (JSON Web Tokens) & bcryptjs
- **مكتبات إضافية:** Recharts (للرسوم البيانية), React-Hot-Toast (للتنبيهات).

---

## 🚀 أوامر الإعداد والتشغيل

### 1. تثبيت الاعتمادياتnpm install
### 2. إعداد ملف الأسرار
أنشئ ملف `.env.local` في المجلد الرئيسي للمشروع:
JWT_SECRET=... (مفتاح التشفير)
POSTGRES_URL=... (رابط قاعدة البيانات)
### 3. تجهيز قاعدة البيانات
نفذ ملف `schema.sql` لإنشاء الجداول المطلوبة.

### 4. تشغيل خادم التطويرnpm run dev
---

## 📁 هيكل المشروع

- **src/app/**: صفحات الواجهة الأمامية.
- **src/app/api/**: جميع ملفات الواجهة الخلفية (API).
- **src/lib/**: ملفات المساعدة (مثل db.js).
- **src/components/**: مكونات الواجهة القابلة لإعادة الاستخدام.
- **public/**: ملفات ثابتة (صور، شعارات).

---

## 🤖 المهام المجدولة (Cron Jobs)

المشروع يدعم المهام المجدولة عبر Vercel (`vercel.json`).

---

## 📝 ملاحظات إضافية

- جميع العمليات البرمجية (إضافة، تعديل، حذف، بحث، تصدير، طباعة) تعمل بكفاءة في كل وحدة متصلة فعليًا بقاعدة البيانات.
- النظام يدعم التوثيق البرمجي الداخلي والتعليقات الموحدة.
- جميع الاستجابات البرمجية موحدة لتسهيل التعامل مع الواجهة الأمامية.
- النظام يدعم النسخ الاحتياطي والاستعادة بشكل احترافي.

---

## ❗ النواقص والتطويرات المقترحة

- ربط جميع صفحات الواجهة الأمامية بالـ API وإلغاء الاعتماد على البيانات الوهمية.
- تطوير وحدة النظام المالي (شجرة الحسابات والقيود).
- تطوير واجهات عرض وتحليل التقارير بشكل متقدم.
- ربط سجل التدقيق (audit log) فعليًا بقاعدة البيانات.
- دعم كامل لتعدد الفروع في الواجهة الأمامية.

---

لأي استفسار أو دعم فني، يرجى التواصل مع فريق التطوير أو مراجعة نظام التذاكر المدمج.